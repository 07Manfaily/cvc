 const downloadFile = async () => {
        try {
            await fetch(
                "/api/graph/download",
                {
                    method: "POST",
                    mode: "cors",

                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-TOKEN': getCookie("csrf_refresh_token")
                    },
                    body: JSON.stringify({
                        "emitter": emetteur,
                        "receiver": receveur
                    })
                },

            ).then((response) => {
                console.log("response", response)
                return response.blob()
            }).then((data) => {
                console.log("data de boris et sadia", data)
                var file = window.URL.createObjectURL(data);
                window.location.assign(file);
            }).catch()





        } catch (error) {
            console.log("Erreur lors du traitement:", error);
        }
    }

    const downloadFile = async () => {
        try {
            const response = await axios.post(
                "/api/graph/download",
                {
                    "emitter": emetteur,
                    "receiver": receveur
                },
                {
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-TOKEN': getCookie("csrf_refresh_token")
                    }
                }
            );


       
                return response.blob()
                var file = window.URL.createObjectURL(response.data);
                console.log("data de boris et sadia", response.data)
                var file = window.URL.createObjectURL(response.data);
                window.location.assign(file);
            

        } catch (error) {
            console.log("Erreur lors du traitement:", error);
        }
    }
